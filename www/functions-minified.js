function checkForm(e){var t="Please fix these errors:\n",n=!1;return""==e.fname.value&&(t+="-First name is required\n",n=!0),""==e.lname.value&&(t+="-Last name is required\n",n=!0),""==e.phone.value&&(t+="-Phone number is required\n",n=!0),""==e.institution.value&&(t+="-Institution is required\n",n=!0),(""==e.email.value||-1==e.email.value.indexOf("@"))&&(t+="-Valid email is required\n",n=!0),n?(window.alert(t),!1):!0}function verifyEdit(){var e="Please fix these errors:\n",t=!1;return""!=document.register.email.value&&-1==document.register.email.value.indexOf("@")&&(e+="-Valid email is required\n",t=!0),""!=document.register.password.value&&document.register.password.value.length<6&&(e+="-Min 6 character password is required\n",t=!0),""!=document.register.password.value&&document.register.password.value!=document.register.password2.value&&(e+="-Passwords to not match\n",t=!0),t?(window.alert(e),!1):!0}function help(e){null==e?window.open("help.php","","width=500,height=500,scrollbars"):window.open("help.php#"+e,"","width=500,height=500,scrollbars")}function info(e){null==e?window.open("info.php","","width=500,height=500,scrollbars"):window.open("info.php#"+e,"","width=500,height=500,scrollbars")}function hideDuplicateOptions(e){if("string"==typeof e&&(e=document.getElementById(e)),e)for(var t="",n=0;n<e.options.length;n++){var i=e.options[n];i.style.display="none",-1==t.indexOf("["+i.text+"]")&&(i.style.display="block",t+="["+i.text+"]")}}function reserve(e,t,n,i,o,l,s,r,a,d,u){if(null==l&&(l=0),h=710,w=820,null==t&&(t=""),null==n&&(n=""),null==i&&(i=""),null==o&&(o=""),null==s&&(s=""),null==r&&(r=""),null==a&&(a=""),null==d&&(d=""),"copy"!=e&&(nurl="reserve.php?type="+e+"&machid="+t+"&start_date="+n+"&resid="+i+"&scheduleid="+o+"&is_blackout="+l+"&read_only="+s+"&pending="+r+"&starttime="+a+"&endtime="+d),"copy"==e&&(nurl="copycluster.php?type="+e+"&machid="+t+"&start_date="+n+"&resid="+i+"&scheduleid="+o+"&is_blackout="+l+"&read_only="+s+"&pending="+r+"&starttime="+a+"&endtime="+d),"2500"==u)setTimeout(parent.document.location.href=nurl,"2500");else if("reserve"==window.name)document.location.href=nurl;else{var c=window.open(nurl,"reserve","width="+w+",height="+h+",scrollbars,resizable=no,status=no");c.focus()}}function refresh_opener(e){parent.window.opener!=parent&&(parent.window.opener.document.location.href=parent.window.opener.document.location.href)}function printpage(){window.print()}function prrrint(e,t,n,i,o,l,s,r,a,d){if(null==l&&(l=0),h=610,w=820,null==t&&(t=""),null==n&&(n=""),null==i&&(i=""),null==o&&(o=""),null==s&&(s=""),null==r&&(r=""),null==a&&(a=""),null==d&&(d=""),nurl="print.php?type="+e+"&machid="+t+"&start_date="+n+"&resid="+i+"&scheduleid="+o+"&is_blackout="+l+"&read_only="+s+"&pending="+r+"&starttime="+a+"&endtime="+d,"print"==window.name)document.location.href=nurl;else{var u=window.open(nurl,"print","width="+w+",height="+h+",scrollbars,resizable=no,status=no");u.focus()}}function checkDate(){var e=document.getElementById("jumpWeek"),t=document.getElementById("jumpMonth").value,n=document.getElementById("jumpDay").value,i=document.getElementById("jumpYear").value,o=new Array;if(o=i%4==0?[31,29,31,30,31,30,31,31,30,31,30,31]:[31,28,31,30,31,30,31,31,30,31,30,31],t>12||n>o[t-1])return alert("Please enter valid date value"),!1;for(var l=0;l<e.childNodes.length-1;l++)if(("text"==e.childNodes[l].type||"textbox"==e.childNodes[l].type)&&(e.childNodes[l].value<=0||null!=e.childNodes[l].value.match(/\D+/)))return alert("Please enter valid date value"),e.childNodes[l].focus(),!1;changeScheduler(t,n,i,0,"")}function verifyTimes(e){return e.del&&e.del.checked?confirm("Delete this reservation?"):parseFloat(e.starttime.value)<parseFloat(e.endtime.value)?!0:(window.alert("End time must be later than start time\nCurrent start time: "+e.starttime.value+" Current end time: "+e.endtime.value),!1)}function alertWarning(){return confirm("alert jan!\nContinue?")}function checkAdminForm(){for(var e=document.forms[1],t=0;t<e.elements.length;t++)if("checkbox"==e.elements[t].type&&1==e.elements[t].checked)return confirm("This will set the checked items to status Deleted!\nContinue?");return alert("No boxes have been checked!"),!1}function checkBoxes(){for(var e=document.train,t=0;t<e.elements.length;t++)"checkbox"==e.elements[t].type&&(e.elements[t].checked=!0)}function viewUser(e){window.open("userInfo.php?user="+e,"UserInfo","width=400,height=400,scrollbars,resizable=no,status=no")}function checkAddResource(e){var t="";return minres=60*parseInt(e.minH.value)+parseInt(e.minM.value),maxRes=60*parseInt(e.maxH.value)+parseInt(e.maxM.value),""==e.name.value&&(t+="-Resource name is required.\n"),parseInt(minres)>parseInt(maxRes)&&(t+="-Minimum reservation time must be less than or equal to maximum"),""!=t?(alert("You have the following errors:\n\n"+t),!1):!0}function checkAddSchedule(){var e=document.addSchedule,t="";return""==e.scheduletitle.value&&(t+="-Schedule title is required.\n"),parseInt(e.daystart.value)>parseInt(e.dayend.value)&&(t+="-Invalid start/end times.\n"),(""==e.viewdays.value||parseInt(e.viewdays.value)<=0)&&(t+="Invalid view days.\n"),""==e.adminemail.value&&(t+="Admin email is required.\n"),""!=t?(alert("You have the following errors:\n\n"+t),!1):!0}function checkAllBoxes(e){for(var t=document.forms[0],n=0;n<t.elements.length;n++)"checkbox"==t.elements[n].type&&"notify_user"!=t.elements[n].name&&(t.elements[n].checked=e.checked)}function check_reservation_form(e){var t=!1,n=!1,i=!1,o="";if("undefined"!=typeof e.interval&&"none"!=e.interval.value){if(i=!0,"week"==e.interval.value||"month_day"==e.interval.value)for(var l=0;l<e.elements["repeat_day[]"].length;l++)1==e.elements["repeat_day[]"][l].checked&&(n=!0);else n=!0;""==e.repeat_until.value&&(o+="- Please choose an ending date\n",t=!1)}else t=!0,n=!0;return 0==n&&(t=!1,o+="- Please select days to repeat on"),""!=o&&alert(o),""==o}function check_warnings(e){var t="";return e.memberid&&e.adminid&&e.memberid.value==e.adminid.value&&(t+="As admin you make this reservation for yourself.\nAre you sure ?"),""!=t?confirm("Warning\n\n"+t):""==t}function check_for_delete(e){return e.del&&1==e.del.checked?confirm("Delete this reservation?"):void 0}function toggle_fields(e){document.forms[0].elements["table,"+e.value+"[]"].disabled=1==e.checked?!1:"disabled"}function search_user_lname(e){var t=isIE()?document.name_search:document.forms.name_search;t.firstName.value="",t.lastName.value=e,t.submit()}function search_resource_name(e){var t=isIE()?document.resource_search:document.forms.resource_search;t.Name.value=e,alert(t.Name.value),t.submit()}function isIE(){return document.all}function changeDate(e,t){var n=isIE()?document.changeMonth:document.forms.changeMonth;n.month.value=e,n.year.value=t,n.submit()}function changeScheduler(e,t,n,i,o){newDate=e+"-"+t+"-"+n,keys=new Array,vals=new Array;var l=i?window.opener.document.location.search.substring(0):document.location.search.substring(0);l=l.replace("?","");var s=l.split("&"),r=i?window.opener.document.URL.split("?")[0]:document.URL.split("?")[0],a="";if(""==o){for(var d=0;d<s.length;d++){var u=s[d].indexOf("=");if(u>=0){var c=s[d].substring(0,u),m=s[d].substring(u+1);keys[keys.length]=c,vals[vals.length]=m}}for(d=0;d<keys.length;d++)"scheduleid"==keys[d]&&(a=vals[d])}else a=o;i?window.opener.location=r+"?date="+newDate+"&scheduleid="+a+"&consoleclick=1":document.location.href=r+"?date="+newDate+"&scheduleid="+a+"&consoleclick=1"}function isIE7(){return document.all&&"undefined"!=typeof document.body.style.maxHeight}function ssum(e,t){showsummary("summary",e,t)}function hsum(){hideSummary("summary")}function msum(e){moveSummary("summary",e)}function showsummary(e,t,n){myLayer=document.getElementById(e),myLayer.innerHTML=n,w=parseInt(myLayer.style.width),h=parseInt(myLayer.style.height),""!=t&&(isIE()&&(x=t.clientX,y=t.clientY,browserX=document.body.offsetWidth-25,isIE7()?(x+=document.documentElement.scrollLeft-document.body.clientLeft,y+=document.documentElement.scrollTop-document.body.clientTop):(x+=document.body.scrollLeft,y+=document.body.scrollTop)),isIE()||(x=t.pageX,y=t.pageY,browserX=window.innerWidth-35)),x1=x+20,y1=y+20,x1+w>browserX&&(x1=browserX-w),myLayer.style.left=parseInt(x1)+"px",myLayer.style.top=parseInt(y1)+"px",myLayer.style.visibility="visible"}function getAbsolutePosition(e){var t={x:e.offsetLeft,y:e.offsetTop};if(e.offsetParent){var n=getAbsolutePosition(e.offsetParent);t.x+=n.x,t.y+=n.y}return t}function moveSummary(e,t){myLayer=document.getElementById(e),w=parseInt(myLayer.style.width),h=parseInt(myLayer.style.height),""!=t&&(isIE()&&(x=t.clientX,y=t.clientY,browserX=document.body.offsetWidth-25,isIE7()?(x+=document.documentElement.scrollLeft-document.body.clientLeft,y+=document.documentElement.scrollTop-document.body.clientTop):(x+=document.body.scrollLeft,y+=document.body.scrollTop)),isIE()||(x=t.pageX,y=t.pageY,browserX=window.innerWidth-30)),x1=x+20,y1=y+20,x1+w>browserX&&(x1=browserX-w),myLayer.style.left=parseInt(x1)+"px",myLayer.style.top=parseInt(y1)+"px"}function hideSummary(e){myLayer=document.getElementById(e),myLayer.style.visibility="hidden"}function showHideDays(t){e=document.getElementById("days"),1==t.options[2].selected||1==t.options[4].selected?(e.style.visibility="visible",e.style.display=isIE()?"inline":"table"):(e.style.visibility="hidden",e.style.display="none"),e=document.getElementById("week_num"),1==t.options[4].selected?(e.style.visibility="visible",e.style.display=isIE()?"inline":"table"):(e.style.visibility="hidden",e.style.display="none")}function chooseDate(e,t,n){var i="recurCalendar.php?m="+t+"&y="+n;isIE()&&(yVal="top=200",xVal="left=500"),isIE()||(yVal="screenY=200",xVal="screenX=500"),window.open(i,"calendar",yVal+","+xVal+",height=270,width=220,resizable=no,status=no,menubar=no")}function selectRecurDate(e,t,n,i){f=window.opener.document.forms[0],f._repeat_until.value=e+"/"+t+"/"+n,f.repeat_until.value=f._repeat_until.value,window.close()}function setSchedule(e){f=document.getElementById("setDefaultSchedule"),f.scheduleid.value=e,f.submit()}function changeSchedule(e){var t=document.URL.split("?")[0];document.location.href=t+"?scheduleid="+e.options[e.selectedIndex].value}function showHideCpanelTable(e){var t=new Date,n=t.getTime()+2592e6;t.setTime(n);var i="";"none"==document.getElementById(e).style.display?(document.getElementById(e).style.display="block",i="show"):(document.getElementById(e).style.display="none",i="hide"),document.cookie=e+"="+i+";expires="+t.toGMTString()}function changeImage(e){"img/plus.gif"==document.getElementById(e).getAttribute("src")?document.getElementById(e).setAttribute("src","img/min.gif"):document.getElementById(e).setAttribute("src","img/plus.gif")}function changeLanguage(e){var t=new Date,n=t.getTime()+2592e6;t.setTime(n),document.cookie="lang="+e.options[e.selectedIndex].value+";expires="+t.toGMTString()+";path=/",document.location.href=document.URL}function clickTab(e,t){for(document.getElementById(e.getAttribute("id")).className="tab-selected",rows=document.getElementById("tab-container").getElementsByTagName("td"),i=0;i<rows.length;i++)"tab-selected"==rows[i].className&&rows[i]!=e&&(rows[i].className="tab-not-selected");for(div_to_display=document.getElementById(t),div_to_display.style.display=isIE()?"block":"table",divs=document.getElementById("main-tab-panel").getElementsByTagName("div"),i=0;i<divs.length;i++)divs[i]!=div_to_display&&"pnl"==divs[i].getAttribute("id").substring(0,3)&&(divs[i].style.display="none")}function checkCalendarDates(){var e=document.getElementById("repeat_table");null!=e&&document.getElementById("hdn_start_date").value!=document.getElementById("hdn_end_date").value&&(e.style.display="none",e.style.visibility="hidden")}function showHideMinMax(e){document.getElementById("minH").disabled=document.getElementById("minM").disabled=document.getElementById("maxH").disabled=document.getElementById("maxM").disabled=e.checked}function moveSelectItems(e,t){for(from_select=document.getElementById(e),to_select=document.getElementById(t),i=0;i<from_select.options.length;i++)if(from_select.options[i].selected){if(isIE()){var n=new Option(from_select.options[i].text,from_select.options[i].value);to_select.options.add(n),from_select.options.remove(i),to_select.options[0].selected=!0}else to_select.options.add(from_select.options[i]);i--}}function selectAllOptions(e){var t,n=e.form;for(t=0;t<n.elements.length;t++)if("select-multiple"==n.elements[t].type&&1==n.elements[t].multiple)for(selectbox=n.elements[t],j=0;j<selectbox.options.length;j++)selectbox.options[j].selected=!0}function changeMyCal(e,t,n,i){var o=document.URL.split("?")[0];document.location.href=o+"?date="+e+"-"+t+"-"+n+"&view="+i}function changeResCalendar(e,t,n,i,o){var l=document.URL.split("?")[0],s=o.split("|"),r=s[0],a="s"==r?"scheduleid":"machid",o=s[1];document.location.href=l+"?date="+e+"-"+t+"-"+n+"&view="+i+"&"+a+"="+o}function selectUserForReservation(e,t,n,i,o,l,s,r){var a=window.opener.document;a.forms[0].memberid.value=e,a.forms[0].leenpermissie1.value=s,a.getElementById("name").innerHTML=t+" "+n,a.getElementById("email").innerHTML=i,a.getElementById("phone").innerHTML=o,a.getElementById("klas").innerHTML=l,a.getElementById("leenpermissie").innerHTML=s,a.getElementById("demerit_punt").innerHTML=r,window.close()}function selectResourceForReservation(e,t,n){var i=window.opener.document;i.forms[0].machid1.value=e,i.forms[0].uitleennivo1.value=n,i.getElementById("machname").innerHTML=t,i.getElementById("machname").style.textDecoration="none",i.getElementById("selectmach").innerHTML=" ",i.getElementById("selectmach").style.display="none",i.forms[0].elements.btnSubmit.click();var o=window.document;o.getElementById("my"+e).innerHTML="Busy... ",setTimeout(function(){o.getElementById("my"+e).innerHTML="&#9679;"},500)}function deselectResourceForReservation(){var e=window.document;e.getElementById("machname").style.color="#ff0000"}function adminRowClick(e,t,n){var i=document.getElementById(t);i.className=e.checked?"adminRowSelected":"cellColor"+n%2}function showHide(e){"none"==document.getElementById(e).style.display?document.getElementById(e).style.display="block":document.getElementById(e).style.display="none"}function submitJoinForm(e){var t=0!=e,n=document.getElementById("join_form");n.h_join_fname.value=t?"":document.getElementById("join_fname").value,n.h_join_lname.value=t?"":document.getElementById("join_lname").value,n.h_join_email.value=t?"":document.getElementById("join_email").value,n.h_join_userid.value=t?document.getElementById("join_userid").value:"",n.h_join_resid.value=document.getElementById("resid").value,n.submit()}function validateReservationWindow(){document.getElementById("check").style.display="inline";var e=document.getElementById("reserve");e.target="check",e.submit()}function createXMLDoc(){var e=null;return document.implementation&&document.implementation.createDocument?e=document.implementation.createDocument("","",null):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLDOM")),e}function getOption(e){return isIE()?new Option(e.text,e.value):e}function popGroupEdit(e){window.open("group_edit.php?edit=1&memberid="+e,"groups","height=250,width=470,resizable=no,status=no,menubar=no")}function popGroupView(e){window.open("group_edit.php?edit=0&memberid="+e,"groups","height=250,width=470,resizable=no,status=no,menubar=no")}function showHere(e,t){var n,i,o=document.getElementById(t),l=getOffset(e);n=l[0],i=l[1],o.style.left=parseInt(n)+"px",o.style.top=parseInt(i-34)+"px",o.style.display="inline"}function getOffset(e){var t=0,n=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;else e.x&&(t+=e.x,n+=e.y);return new Array(t,n)}function switchStyle(e,t){e.className=t}function openExport(e,t,n,i){var o="type="+e;t.length>0?o+="&resid="+t:(n.length>0&&(o+="&start_date="+n),i.length>0&&(o+="&end_date="+i)),window.open("exports/ical.php?"+o)}function exportSearch(){var e=document.getElementById("type"),t=e[e.selectedIndex].value,n=document.getElementById("nostart").checked?"":document.getElementById("hdn_start_date").value,i=document.getElementById("noend").checked?"":document.getElementById("hdn_end_date").value;openExport(t,"",n,i)}function blurDiv(e,t){document.getElementById(t).className=e.checked?"blur_textbox":"textbox"}function updateEnd(e){var t=document.getElementById("endtime"),n=e.selectedIndex;t.selectedIndex=t.options.length-1>n?n+1:n}function allow_this_user(e){return confirm("NOTE: User has loanpermission "+e+". This is too low. Still allow this article?")?!0:!1}function alert_this_user(e){alert("NOTE: User has loanpermission "+e+". This is too low for this article, but reservation is made.")}